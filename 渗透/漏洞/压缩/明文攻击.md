# 明文攻击
一种比较巧妙的攻击方法，首先你需要一个压缩包中已知的文件(文件大小大于12bytes)，比如readme.txt

```
├─enc.zip
│  ├─flag.txt *
│  └─readme.txt *
│
└─readme.txt
```
```
这样我们就可以构造明文zip

├─plaintext.zip
│  └─readme.txt
```

原理大概是压缩包里的所有文件都是使用同一个加密密钥来加密的，所以可以用已知文件反推加密密钥，利用密钥来解密其他加密文件。

划重点：构造明文压缩包时要选用与加密压缩包相同的压缩软件，如果他用winrar压的，你用7z构造出的压缩包来做明文压缩包，软件是会报错的。

![1](\img\明文攻击1.png)

这样就是还原出密钥了，点OK后软件会叫你保存解密后的压缩包。

![1](\img\明文攻击2.png)

